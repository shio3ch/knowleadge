# 項目42 無名クラスよりもラムダを選ぶ

## ラムダ

* 基本的に、無名クラスの代わりに関数クラスを使う

## 仕様

* ラムダの戻り値を示す必要はない。コンパイラによる型推論で戻り値は決定される


## ラムダと無名クラスの特徴

### ラムダ

* コードが簡潔になる
* 複数行に跨ると一気に読みづらくなる
  * 3行を超えるならリファクタリングが必要
* 名前とドキュメンテーションが欠けている
  * ラムダの中身が複雑なコードになるのであれば、別のメソッドにして名前を付けるのが望ましい

### 無名クラス

* フィールドを持たせられる
* 抽象クラスのインスタンスを生成できる
* 複数の抽象メソッドを持つインタフェースのインスタンスを生成出来る

## thisを使った場合の参照先

* ラムダ -> エンクロージングインスタンス
  * Mainクラスのmainメソッドの中でラムダを定義し、thisを参照する場合はMainクラスになる
* 無名クラス -> 無名クラスのインスタンス

## 注意点

* ラムダと無名クラスはシリアライズとディシリアライズを確実に行えない特性を持つ
  * ラムダと無名クラスはシリアライズすべきではない
  * Comparatorなどのシリアライズしたい関数オブジェクトを持つなら、`private static`のネスとしたクラスのインスタンスを使う
